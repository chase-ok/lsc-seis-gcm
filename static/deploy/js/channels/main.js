!function(){require.config({paths:{jquery:"//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min","jquery-ui":"//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min",datatables:"//ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min",d3:"//cdnjs.cloudflare.com/ajax/libs/d3/3.2.2/d3.v3"},shim:{d3:{exports:"d3"}}})}.call(this),function(){define("utils",["d3"],function(n){var t,e,i;return t=function(){function n(n,t){this._func=n,this._period=null!=t?t:1e3,this._id=null,this._running=!1}return n.prototype.func=function(n){return null!=n?(this._func=n,this.running()&&this.reset(),this):this._func},n.prototype.period=function(n){return null!=n?(this._period=n,this.running()&&this.reset(),this):this._period},n.prototype.running=function(n){return null!=n?(this._running=n,null!=this._id&&(clearInterval(this._id),this._id=null),n&&(this._id=setInterval(this.func(),this.period())),this):this._running},n.prototype.reset=function(){return this.running(!1),this.running(!0)},n}(),{definitions:window.definitions,describe:function(n,t){var e,i;for(e in t)i=t[e],n=n.attr(e,i);return n},mergeObj:function(n,t){var e,i;null==n&&(n={});for(e in t)i=t[e],null!=i&&(n[e]=i);return n},isEmpty:function(n){var t,e;for(t in n)if(e=n[t],n.hasOwnProperty(t))return!1;return!0},mash:function(n){var t,e,i,r;for(t={},i=0,r=n.length;r>i;i++)e=n[i],t[e[0]]=e[1];return t},loadJSON:e=function(t,i,r){return null==r&&(r=3),r>0?n.json(definitions.webRoot+t,function(n,s){return null==n&&s.success?i(s.data):(null!=n&&console.log(n),null!=s&&console.log(s.error),setTimeout(function(){return e(t,i,r-1)},10))}):void 0},loadUnwrappedJSON:i=function(t,e,r){return null==r&&(r=3),r>0?n.json(definitions.webRoot+t,function(n,s){return null!=n?(null!=n&&console.log(n),setTimeout(function(){return i(t,e,r-1)},10)):e(s)}):void 0},property:function(n){var t,e,i;return e=void 0,t="function"==typeof n||null==n.get?function(n){return n}:n.get,i="function"==typeof n?n:null!=n.set?n.set:function(){throw new Error("property is read-only")},function(n){return null!=n?(e=i.call(this,n,e),this):t.call(this,e)}},degrees:function(n){return 180*(n/Math.PI)},radians:function(n){return Math.PI/180*n},IntervalFunc:t}})}.call(this),function(){define("channels/table",["utils","jquery","datatables","d3"],function(n,t,e,i){var r,s;return s=n.definitions.webRoot,r=function(){function n(n){var e,i,r,s,o=this;this.container=t(n),this.columnIndex=["id","ifo","subsystem","name","triggers"],r=function(n,t){return'<a href="'+o.triggersUrl(n,t)+'">View</a>'},this.columns={id:{sTitle:"ID",sWidth:"10%"},ifo:{sTitle:"IFO",sWidth:"10%"},subsystem:{sTitle:"Subsystem",sWidth:"30%"},name:{sTitle:"Channel",sWidth:"40%"},triggers:{sTitle:"Triggers",sClass:"center",mRender:function(n){return'<a href="'+n+'">View</a>'},sWidth:"10%"}},s=this.columns;for(i in s)e=s[i],e.aTargets=[this.columnIndex.indexOf(i)];this.dataMap={id:function(n){return n.id},ifo:function(n){return n.ifo},subsystem:function(n){return n.subsystem},name:function(n){return n.name},triggers:function(n){return"triggers/channel/"+n.id}}}return n.prototype.prepare=function(){var n,e,i,r;this.table=t("<table/>",{"class":"dataTable",id:"channels",border:0,cellspacing:0,cellpadding:0}),this.table.appendTo(this.container),this.header=t("<thead/>"),this.header.appendTo(this.table),this.headerRow=t("<tr/>"),this.headerRow.appendTo(this.header),r=this.columns;for(n in r)i=r[n],this.headerRow.append(t("<th>"+i.sTitle+"</th>"));return this.table=this.table.dataTable({aoColumns:function(){var n,t,i,r;for(i=this.columnIndex,r=[],n=0,t=i.length;t>n;n++)e=i[n],r.push(this.columns[e]);return r}.call(this)})},n.prototype.addChannel=function(n){var t,e;return e=function(){var e,i,r,s;for(r=this.columnIndex,s=[],e=0,i=r.length;i>e;e++)t=r[e],s.push(this.dataMap[t](n));return s}.call(this),this.table.fnAddData(e)},n.prototype.loadFromUrl=function(n){var t=this;return null==n&&(n="channels/all"),i.json(n,function(n,e){var i,r,s,o,u;if(null!=n||!e.success)return console.log(n),console.log(e),void 0;for(o=e.data.channels,u=[],r=0,s=o.length;s>r;r++)i=o[r],u.push(t.addChannel(i));return u})},n}(),{ChannelsTable:r}})}.call(this),function(){define("channels/main",["jquery","channels/table"],function(n,t){return n(function(){return t=new t.ChannelsTable(n("#container")),t.prepare(),t.loadFromUrl()})})}.call(this);